# SufrShield - –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã –¥–ª—è iOS

SufrShield - —ç—Ç–æ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Content Blocker Extension –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–∫–ª–∞–º—ã –∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤ –≤ Safari –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ç—Ä–µ–∫–µ—Ä–æ–≤**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **Content Blocker Extension**: –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å iOS
- **–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ø—Ä–∞–≤–∏–ª**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –±–µ–∑ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏

## üì± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SufrShield/
‚îú‚îÄ‚îÄ SufrShield/          # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Screens/         # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Theme/           # –¢–µ–º–∞ –∏ —Ü–≤–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ App/             # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ adblocker/           # Content Blocker Extension
‚îÇ   ‚îú‚îÄ‚îÄ RuleConverter.swift      # –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ø—Ä–∞–≤–∏–ª
‚îÇ   ‚îú‚îÄ‚îÄ adblock_rules.txt        # –ò—Å—Ö–æ–¥–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ convert_rules.swift      # CLI –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ ContentBlockerRequestHandler.swift
‚îî‚îÄ‚îÄ README.md
```

## üîß –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ø—Ä–∞–≤–∏–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞
Apple —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON —Ñ–∞–π–ª—ã –¥–ª—è Content Blocker Extension, –Ω–æ —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞.

### –†–µ—à–µ–Ω–∏–µ
–ú—ã —Å–æ–∑–¥–∞–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π:
- –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ AdBlock Plus –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –≤ –ø–∞–º—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (FileManager)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. CLI –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
```bash
cd adblocker
swift convert_rules.swift adblock_rules.txt converted_rules.json
```

#### 2. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
```swift
import Foundation

// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∞–≤–∏–ª–∞
let rules = [
    ".ads.$script",
    ".banner.$image",
    ".popup.$popup"
]

// –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ JSON
let jsonString = RuleConverter.convertRulesToJSON(rules)

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–º—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
RuleConverter.saveRulesToDevice(jsonString, filename: "blockerList")
```

#### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤–∏–ª
```swift
// –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
if let rules = RuleConverter.loadRulesFromDevice(filename: "blockerList") {
    print("–ü—Ä–∞–≤–∏–ª–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: \(rules)")
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

- `$script` - –±–ª–æ–∫–∏—Ä—É–µ—Ç JavaScript —Ñ–∞–π–ª—ã
- `$image` - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `$stylesheet` - –±–ª–æ–∫–∏—Ä—É–µ—Ç CSS —Ñ–∞–π–ª—ã
- `$xmlhttprequest` - –±–ª–æ–∫–∏—Ä—É–µ—Ç AJAX –∑–∞–ø—Ä–æ—Å—ã
- `$third-party` - –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã
- `$object` - –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã (Flash, Java)
- `domain=~example.com` - –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –∫ –¥–æ–º–µ–Ω–∞–º
- `~example.com` - –∏—Å–∫–ª—é—á–∞–µ—Ç –¥–æ–º–µ–Ω

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª

```
-contrib-ads.$~stylesheet
.adriver.$~object,domain=~adriver.co
.ads.controller.js$script
.advert.$domain=~advert.ae|~advert.ge
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞

1. **–≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞**: JSON —Ñ–æ—Ä–º–∞—Ç –≤ 5-6 —Ä–∞–∑ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å iOS
5. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∞–≤–∏–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ `SufrShield.xcodeproj` –≤ Xcode
3. –í—ã–±–µ—Ä–∏—Ç–µ target `adblocker`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Content Blocker Extension
5. –°–æ–±–µ—Ä–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ø—Ä–∞–≤–∏–ª](adblocker/README_RULES.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É
- [–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª](adblocker/adblock_rules.txt) - –ò—Å—Ö–æ–¥–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](adblocker/RuleConverterTest.swift) - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```swift
// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞
RuleConverterTest.testConversion()
RuleConverterTest.compareFileSizes()

// CLI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
swift convert_rules.swift
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª**: 47 –ø—Ä–∞–≤–∏–ª, ~1.4KB
- **JSON —Ñ–∞–π–ª**: 46 –ø—Ä–∞–≤–∏–ª, ~8KB
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è**: 5.68x
- **–í—Ä–µ–º—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**: <0.001 —Å–µ–∫—É–Ω–¥—ã

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**SufrShield** - –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫–ª–∞–º—ã –∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤ –¥–ª—è iOS üõ°Ô∏è
